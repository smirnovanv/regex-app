<script setup lang="ts">
import { ref } from 'vue';
import { BaseReplaceTask } from '@/components/base-replace-task';

const taskRef= ref<InstanceType<typeof BaseReplaceTask>>();

const replaceSmiles = (text: string) => {
    return text.replace(/:[\)]{10,}/g, 'ğŸ˜€ ğŸ˜€ ğŸ˜€').replace(/:[\)]+/g, 'ğŸ˜€');
}

const handleClick = (value: string) => {
    const result = replaceSmiles(value);
    taskRef.value?.setResultText(result)
}

const taskText = 'Ğ—Ğ°Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ Ğ² Ñ‚ĞµĞºÑÑ‚Ğµ ÑĞ¼Ğ°Ğ¹Ğ»Ñ‹ :))) Ğ½Ğ° Ğ¸ĞºĞ¾Ğ½ĞºÑƒ ÑĞ¼Ğ°Ğ¹Ğ»Ğ°. Ğ•ÑĞ»Ğ¸ ÑĞºĞ¾Ğ±Ğ¾Ñ‡ĞµĞº 10 Ğ¸Ğ»Ğ¸ Ğ±Ğ¾Ğ»ÑŒÑˆĞµ, Ğ·Ğ°Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ Ğ½Ğ° 3 ÑĞ¼Ğ°Ğ¹Ğ»Ğ°.';
const exampleData = 'Ğ›Ñ‘Ğ½Ñ Ğ¸ ĞĞ»Ñ‘ÑˆĞ° Ğ³ÑƒĞ»ÑĞ»Ğ¸ Ğ²Ğ¾ Ğ´Ğ²Ğ¾Ñ€Ğµ. ĞŸĞ¾Ñ‚Ğ¾Ğ¼ Ğ²Ñ‹ÑˆĞµĞ» Ğ¡ĞµÑ€Ñ‘Ğ¶Ğ°. Ğ¡ Ğ½Ğ¸Ğ¼ Ğ±Ñ‹Ğ»Ğ° ÑĞµÑÑ‚Ñ€Ñ‘Ğ½ĞºĞ° ĞĞ»Ñ‘Ğ½ĞºĞ°. Ğ¡ĞµÑ€Ñ‘Ğ¶Ğ° Ğ½Ñ‘Ñ ÑĞ°Ğ½ĞºĞ¸. Ğ”ĞµÑ‚Ğ¸ ÑÑ‚Ğ°Ğ»Ğ¸ ĞºĞ°Ñ‚Ğ°Ñ‚ÑŒ ĞĞ»Ñ‘Ğ½ĞºÑƒ. ĞŸĞ¾Ñ‚Ğ¾Ğ¼ Ğ¿Ñ€Ğ¸ÑˆĞ»Ğ¸ Ğ›Ñ‘Ğ²Ğ° Ğ¸ Ñ‚Ñ‘Ñ‚Ñ Ğ¢Ğ°Ğ½Ñ. ĞĞ½Ğ¸ ĞºÑƒĞ¿Ğ¸Ğ»Ğ¸ Ñ‘Ğ»ĞºÑƒ. Ğ›Ñ‘Ğ²Ğ° Ğ¾Ñ‚Ğ½Ñ‘Ñ Ñ‘Ğ»ĞºÑƒ Ğ´Ğ¾Ğ¼Ğ¾Ğ¹ Ğ¸ ÑÑ‚Ğ°Ğ» ĞºĞ°Ñ‚Ğ°Ñ‚ÑŒ Ñ€ĞµĞ±ÑÑ‚ Ğ½Ğ° ÑĞ°Ğ½ĞºĞ°Ñ…. :))))))) Ğ›Ñ‘Ğ²Ğ° Ğ²Ñ‘Ğ· Ğ½Ğ° ÑĞ°Ğ½ĞºĞ°Ñ… Ğ›Ñ‘Ğ½Ñ. ĞŸĞ¾Ñ‚Ğ¾Ğ¼ â€” ĞĞ»Ñ‘ÑˆÑƒ. ĞŸĞ¾Ñ‚Ğ¾Ğ¼ â€” Ğ¡ĞµÑ€Ñ‘Ğ¶Ñƒ. ĞŸĞ¾Ñ‚Ğ¾Ğ¼ â€” ĞĞ»Ñ‘Ğ½ĞºÑƒ. Ğ›Ñ‘Ğ²Ğ° â€” ÑÑ‚Ğ°Ñ€ÑˆĞ¸Ğ¹. :)))))))))))))))))))))))) ĞŸĞ¾Ñ‚Ğ¾Ğ¼ Ñ€ĞµĞ±ÑÑ‚Ğ° Ğ²ÑĞµ Ğ²Ğ¼ĞµÑÑ‚Ğµ ĞºĞ°Ñ‚Ğ°Ğ»Ğ¸ Ğ›Ñ‘Ğ²Ñƒ. Ğ’ĞµÑÑ‘Ğ»Ğ°Ñ Ğ±Ñ‹Ğ»Ğ° Ğ¿Ñ€Ğ¾Ğ³ÑƒĞ»ĞºĞ°!'
const solutionText = `const replaceSmiles = (text: string) => {return text.replace(/:[\)]{10,}/g, 'ğŸ˜€ ğŸ˜€ ğŸ˜€').replace(/:[\)]+/g, 'ğŸ˜€');}`;
</script>

<template>
    <base-replace-task 
        ref="taskRef"
        :taskText="taskText" 
        :exampleData="exampleData" 
        :solutionText="solutionText"
        @submit="handleClick"
    />
</template>